{"version":3,"sources":["../../../../assets/Script/assets/Script/Light.js"],"names":["cc","Class","extends","Component","properties","redSprite","Sprite","yellowSprite","greenSprite","chicken","car","_count","_time","_timeFlash","_red","Color","RED","_yellow","YELLOW","_green","GREEN","_colorDefault","GRAY","start","turnOff","update","dt","turnOn","flashLight","getComponent","count","speed","sprite","color","node","timeFlash","times"],"mappings":"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","file":"Light.js","sourceRoot":"../../../../assets/Script","sourcesContent":["cc.Class({\n    extends: cc.Component,\n    properties: {\n        redSprite: cc.Sprite,\n        yellowSprite: cc.Sprite,\n        greenSprite: cc.Sprite,\n        chicken: cc.Sprite,\n        car: cc.Sprite,\n        _count: 0,\n        _time: 0,\n        _timeFlash: 0,\n        _red: cc.Color.RED,\n        _yellow: cc.Color.YELLOW,\n        _green: cc.Color.GREEN,\n        _colorDefault: cc.Color.GRAY\n    },\n\n    start() {\n        this.turnOff(this.redSprite);\n        this.turnOff(this.yellowSprite);\n        this.turnOff(this.greenSprite);\n    },\n\n    update(dt) {\n        if (this._time > 0) {\n            this.turnOn(this.redSprite, this._red);\n            this.turnOff(this.yellowSprite);\n            this.turnOff(this.greenSprite);\n        }\n        if (this._time > 1) {\n            this.flashLight(this.redSprite, this._red, 0.4, 3, dt);\n        }\n        if (this._time > 2.5) {\n            this.turnOn(this.yellowSprite, this._yellow);\n            this.turnOff(this.redSprite);\n            this.turnOff(this.greenSprite);\n        }\n        if (this._time > 3.6) {\n            this.flashLight(this.yellowSprite, this._yellow, 0.4, 3, dt);\n        }\n        if (this._time > 4.8 && this._time < 5) {\n            this.chicken.getComponent(\"Chicken\").count = 0;\n        }\n        if (this._time > 4.8) {\n            this.turnOn(this.greenSprite, this._green);\n            this.turnOff(this.yellowSprite);\n            this.turnOff(this.redSprite);\n            this.car.getComponent(\"Car\").speed = 360;\n        }\n        this._time += dt;\n    },\n\n    turnOn(sprite, color) {\n        sprite.node.color = color;\n    },\n\n    turnOff(sprite, color) {\n        sprite.node.color = this._colorDefault;\n    },\n\n    flashLight(sprite, color, timeFlash, times, dt) {\n        if (this._timeFlash === 0) {\n            sprite.node.color = this._colorDefault;\n        }\n        this._timeFlash += dt;\n        if (this._timeFlash >= timeFlash) {\n            sprite.node.color = color;\n            this._timeFlash = 0;\n            this._count++;\n            if (this._count === times) {\n                this._count = 0;\n                return true;\n            }\n            else return false;\n        }\n    },\n});"]}